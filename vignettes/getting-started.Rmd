---
title: "Getting Started with Iowa Cities Analysis"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with Iowa Cities Analysis}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  eval = FALSE
)
```
## Overview

This R project provides comprehensive data analysis tools for Iowa cities, including:

- **13 datasets** covering demographics, economics, housing, education, crime, healthcare, and more
- **Interactive Shiny dashboard** for exploring city rankings and comparisons
- **Automated analysis pipelines** for reproducible research
- **Interactive tools** for maps, predictions, and recommendations

## Quick Start

### 1. Install Dependencies

```{r}
# Run the setup script
source("scripts/00_setup.R")

# Or manually install required packages
install.packages(c("tidyverse", "shiny", "shinydashboard", "plotly", "here"))
```

### 2. Load Data

```{r}
library(tidyverse)
library(here)
source(here("scripts/utils.R"))

# Load a single dataset
crime <- safe_read_csv(here("data/raw/iowa_crime_data.csv"))

# Or load all datasets at once
source(here("scripts/01_data_import.R"))
```
### 3. Run Analysis

```{r}
# Run individual analysis
source(here("scripts/iowa_crime_safety_analysis.R"))

# Or run all analyses
source(here("scripts/run_all_iowa_analyses.R"))
```

### 4. Launch Dashboard

```{r}
# Start the interactive dashboard
shiny::runApp("app.R")
```

## Project Structure

```
r-data/
├── app.R                    # Shiny dashboard
├── data/
│   ├── raw/                 # Source data (immutable)
│   └── processed/           # Cleaned data
├── scripts/
│   ├── utils.R              # Utility functions
│   ├── constants.R          # Project constants
│   └── *.R                  # Analysis scripts
├── notebooks/               # R Markdown reports
├── outputs/                 # Generated outputs
└── tests/                   # Unit tests
```

## Key Functions

### normalize()

Scale values to a 0-100 range:

```{r}
# Higher values = higher scores
normalize(c(10, 20, 30))
#> [1] 0 50 100

# Reverse: higher values = lower scores (e.g., crime rates)
normalize(c(100, 200, 300), reverse = TRUE)
#> [1] 100 50 0
```

### safe_read_csv()

Read CSV files with error handling:

```{r}
# Basic usage
data <- safe_read_csv(here("data/raw/iowa_crime_data.csv"))

# With fallback path
data <- safe_read_csv(
  here("data/processed/cities.csv"),
  fallback_path = here("data/raw/cities.csv")
)
```

### weighted_score()

Calculate composite scores with custom weights:

```{r}
scores <- weighted_score(
  safety = 0.3,
  housing = 0.25,
  education = 0.25,
  economy = 0.2,
  data = city_data
)
```

## Data Validation

Run data quality checks before analysis:

```{r}
source(here("scripts/validate_data.R"))
results <- run_all_validations()
```

## Next Steps

- Explore the [Function Reference](reference/index.html) for detailed documentation
- Read the [Shiny Dashboard Guide](articles/shiny-guide.html) for dashboard customization
- Check out [Interactive Tools](articles/interactive-tools.html) for maps and predictions
